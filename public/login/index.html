<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../styles/mainStyle.css">
    <title>Login</title>
</head>
<body>
    <img src="..\res\logo\logo.png" alt="logo" id="logo">
    <div id="logincontainer">
    <div id="conthead" class="rows">
        <button type="button" id="govTab" onclick="showTab('government',this)">Government Users</button>
        <button type="button" class="btn-disabled" id="citizenTab" onclick="showTab('citizen',this)">Citizens</button>
    </div>
        <div id="contbot" class="rows">
            <form id="loginForm" action="/auth" method="POST">
        <div id="governmentFields" class="fields">
            <label for="govUsername">Username:</label>
            <input type="text" id="govUsername" name="username" required>
            <label for="govPassword">Password:</label>
            <input type="password" id="govPassword" name="password" required>
            <label for="govRole">Role:</label>
            <select id="govRole" name="govRole" required>
                <option value="fire">Fire & Rescue</option>
                <option value="police">Police</option>
                <option value="health">Ambulance</option>
            </select>
        </div>
        <div id="citizenFields" style="display:none;"  class="fields">
            <label for="citizenEmail">Email:</label>
            <input type="email" id="citizenEmail" name="email" required disabled>
            <label for="citizenPassword">Password:</label>
            <input type="password" id="citizenPassword" name="password" required disabled>
        </div>
            <input type="text" id="role" name="role" value="gov" hidden>
        <input type="submit" value="Login">
    </form>
        </div>
    
    </div>
    
    <script type="text/javascript">
    function showTab(tab,elem) {
        elem.classList.remove('btn-disabled');
        if (tab === 'government') {
            document.getElementById('citizenTab').classList.add('btn-disabled');
            document.getElementById('governmentFields').style.display = '';
            document.getElementById('citizenFields').style.display = 'none';
            document.getElementById('role').setAttribute('value','gov');
            var inps = document.getElementById('citizenFields').getElementsByTagName('input');
            for (var i = 0; i < inps.length; i++) {
                inps[i].setAttribute('disabled','true');
            }
            var inps = document.getElementById('governmentFields').getElementsByTagName('input');
            for (var i = 0; i < inps.length; i++) {
                inps[i].removeAttribute('disabled');
            }
            document.getElementById('govRole').removeAttribute('disabled');
        } else {
            document.getElementById('govTab').classList.add('btn-disabled');
            document.getElementById('governmentFields').style.display = 'none';
            document.getElementById('citizenFields').style.display = '';
            document.getElementById('role').setAttribute('value','citz');
            var inps = document.getElementById('governmentFields').getElementsByTagName('input');
            for (var i = 0; i < inps.length; i++) {
                inps[i].setAttribute('disabled','true');
            }
            document.getElementById('govRole').setAttribute('disabled','true');
            var inps = document.getElementById('citizenFields').getElementsByTagName('input');
            for (var i = 0; i < inps.length; i++) {
                inps[i].removeAttribute('disabled');
            }
        }
    }
    </script>
</body>
</html>